<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>  
    </h:head>
    <h:body>
        #{databaseManager.fillDataBase()}
        
        <div class="container">
            <div class="row">
                <div class="Absolute-Center is-Responsive">
                    <div id="logo-container"/>

                    <h1><center>Sveiki atvykę į "Labanoro draugų" klubo svetainę!</center></h1>
                    <div class="col-sm-12 col-md-6 col-md-offset-3">

                        <hr class="omb_hrOr"/>
                        <h3 class="omb_authTitle"><center>Prisijungimas</center></h3> 
                        <hr class="omb_hrOr"/>

                        <h:form id="loginForm">
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                <h:inputText id="username" class="form-control" a:placeholder="el. paštas" value="#{auth.username}" size="20" required="true" requiredMessage="Įveskite el. paštą" />
                            </div>
                            <p:messages for="username" id="error_username" autoUpdate="true" closable="true" />
                            <div class="form-group input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>  
                                <h:inputSecret id="password" class="form-control" a:placeholder="slaptažodis" value="#{auth.password}" size="20" redisplay="false" required="true" requiredMessage="Įveskite slaptažodį"/> 
                            </div>
                            <p:messages for="password" id="error_password" autoUpdate="true" closable="true" />
                            <h:inputHidden value="#{auth.url}"/>
                            <h:commandButton class="btn btn-block" type="submit" value="Prisijungti" action="#{auth.login()}"/> <br/>
                        </h:form>
                        <h:form class="form-group">  
                            <p:button class="btn btn-facebook btn-primary btn-block" href="#{loginPageCode.facebookUrlAuth}" value="Prisijungti su Facebook" />
                        </h:form>
                        <h:form class="form-group">  
                            <p:button class="btn btn-block" href="/register.html" value="Užsiregistruoti" />
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        <div id="dialogs">
            <p:dialog widgetVar="ShowNotExistingUserStatus" modal="true" header="Autorizacija" closeOnEscape="true" resizable="false" draggable="false" responsive="true" minHeight="40" fitViewport="true" position="center" >
                <h:form>
                    <p:outputLabel value="Vartotojas su tokiu el. paštu neegzistuoja" />   
                </h:form>
            </p:dialog>

            <p:dialog widgetVar="showIncorrectCredentials" modal="true" header="Autorizacija" closeOnEscape="true" resizable="false" draggable="false" responsive="true" minHeight="40" fitViewport="true" position="center" >
                <h:form>
                    <p:outputLabel value="Jūs įvedėte neteisingus prisijungimo duomenis. Bandykite dar kartą!" />   
                </h:form>
            </p:dialog>
        </div>
    </h:body>
</html>
