<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Vasarnamių rezervacija</title>
        <h:outputStylesheet library="css" name="custom.css"/>
        <script src="//connect.facebook.net/en_US/sdk.js" type="text/javascript"/>
        <script src="https://code.jquery.com/jquery-2.2.2.min.js"   integrity="sha256-36cp2Co+/62rEAAYHLmRCPIych47CvdM+uTBJwSzWjI="   crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"/>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"   integrity="sha256-xNjb53/rY+WmG+4L6tTl9m6PpqknWZvRt0rO1SRnJzw="   crossorigin="anonymous"></script> 
    </h:head>
    <h:body>
        <!-- Navigation panel-->
        <nav role="navigation" class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="../index.html" class="navbar-brand">Labanoro Draugai</a>    
                </div>
                <!-- Collection of nav links and other content for toggling -->
                <div id="navbarCollapse" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="../index.html">Pagrindinis</a></li>
                        <li class="active"><a href="#">Vasarnamiai</a></li>
                        <li><a href="#">Paslaugos</a></li>
                        <li><a href="#">Rezervacijos</a></li>
                        <li><a href="../Administration/admin.html">Administravimas</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a class="btn btn-default btn-outline btn-circle collapsed" data-toggle="collapse" href="#nav-profile" aria-expanded="false" aria-controls="nav-profile">Profile</a>
                        </li>
                        <li><a  class="fb-login-button" data-max-rows="1" data-show-faces="false" data-auto-logout-link="true" href="#"></a></li>
                    </ul>
                    <ul class="collapse nav navbar-nav navbar-right nav-collapse slide-down" role="search" id="nav-profile">
                        <li><a href="#">Support</a></li>
                        <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="caret"></span></a>
                          <ul class="dropdown-menu" role="menu">
                            <li><a href="#">My profile</a></li>
                            <li><a href="#">My reservations</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Settings</a></li>
                            <li><a href="#" onclick="logoutFb()">Logout</a></li>
                          </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
       <!--Filter panel--> 
       <div class="row">
            <div class="container">
                <div class="col-sm-4 col-md-3 col-lg-3">
                    <h:form id="filterForm">
                        <p:accordionPanel id="filterAccordion" multiple="true">
                            <p:tab id="options" title="Parinktys">
                                <h:panelGrid id="panelGrid" columns="2" >
                                    <h:outputLabel for="ordering" value="Viršuje:" />
                                    <h:selectOneMenu id="ordering" value="#{houseFilter.ordering}" >
                                        <f:selectItem itemLabel="Pigiausi" itemValue="cheap" />
                                        <f:selectItem itemLabel="Brangiausi" itemValue="expensive" />
                                        <f:selectItem itemLabel="Seniausi" itemValue="old" />
                                        <f:selectItem itemLabel="Naujausi" itemValue="new" />
                                    </h:selectOneMenu>
                                    <h:outputLabel for="placeCount" value="Vietų skaičius:" />
                                    <p:spinner id="placeCount" value="#{houseFilter.placeCount}" min="0" max="99" size="1"/>
                                    <p:tooltip id="toolTipPlaceCount" for="placeCount" value="0 žymi visus vietų skaičius" trackMouse="true" />
                                </h:panelGrid>
                                
                                
                                <p:outputLabel for="displayRange" value="Kaina:" /><br/>
                                <h:outputText id="displayRange" value="Nuo #{houseFilter.priceFrom}€ iki #{houseFilter.priceTo}€" />
                                <p:slider id="priceSlider" 
                                          for="priceFrom,priceTo" 
                                          display="displayRange" 
                                          style="width: 170px" 
                                          range="true" 
                                          displayTemplate="Kaina nuo {min}€ iki {max}€" 
                                          maxValue="#{houseFilter.maxHousePrice}" />
                                <h:inputHidden id="priceFrom" value="#{houseFilter.priceFrom}" />
                                <h:inputHidden id="priceTo" value="#{houseFilter.priceTo}" />

                                <br/>

                                <p:outputLabel for="panelGrid" value="Viešnagės periodas:" />
                                <p:tooltip id="calendarToolTip" for="dateFrom,dateTo" value="Nameliai nuomuojami savaitėmis (nuo pirmadienio iki sekmandienio imtinai)" trackMouse="true" />
                                <h:panelGrid id="dateGrid" columns="2" >
                                    <p:outputLabel for="dateFrom" value="Nuo: " />
                                    <p:calendar id="dateFrom" pattern="yyyy-MM-dd" size="10"
                                                beforeShowDay="calendarOnlyMonday" locale="lt"
                                                value="#{houseFilter.dateFrom}" 
                                                mindate="#{houseFilter.today}" 
                                                maxdate="#{houseFilter.endOfSeason}"  >
                                        <p:ajax event="dateSelect" listener="#{houseFilter.onDateSelect}" update="dateTo" />
                                    </p:calendar>
                                    <p:outputLabel for="dateTo" value="Iki: " />
                                    <p:calendar id="dateTo" pattern="yyyy-MM-dd" size="10"
                                                beforeShowDay="calendarOnlySunday" locale="lt"
                                                value="#{houseFilter.dateTo}" 
                                                mindate="#{houseFilter.dateFrom}"
                                                maxdate="#{houseFilter.endOfSeason}" >
                                        <p:ajax event="dateSelect" update="dateFrom" />
                                    </p:calendar>    
                                </h:panelGrid>
                            </p:tab>
                            
                            <p:tab title="Paslaugos">
                                <p:selectManyCheckbox id="grid2" value="#{houseFilter.selectedFilters}" layout="pageDirection" columns="3">
                                    <f:selectItems value="#{houseFilter.availableFilters}" var="filter" itemLabel="#{filter}" itemValue="#{filter}" />
                                </p:selectManyCheckbox> 
                            </p:tab>
                        </p:accordionPanel>    
                        
                        <p:commandButton class="btn btn-primary" value="Filtruoti" action="#{summerhouseManager.filter()}" update="houseDataScroller" style="width: 100%"/>
                        <p:commandButton class="btn btn-success" value="Rodyti visus" action="#{summerhouseManager.showAll()}" update="houseDataScroller" style="width: 100%"/>   
                        <!-- oncomplete="PF('dlg').show()" icon="ui-icon-check" />-->
<!--                            <p:dialog header="Values" modal="true" showEffect="clip" widgetVar="dlg" resizable="false" draggable="false" responsive="true">
                                <p:outputPanel id="display">
                                    <p:dataList value="" var="filter">
                                        <f:facet name="header">
                                            Filters
                                        </f:facet>
                                        
                                    </p:dataList>
                                </p:outputPanel>
                            </p:dialog>-->
                    </h:form>
                </div>
        
            <!--summerhouse data-->
                <div class="col-sm-8 col-md-9 col-lg-9">
                    <p:dataScroller id="houseDataScroller" value="#{summerhouseManager.filteredSummerhouses}" var="house" chunkSize="15" style="border:thin" >
                        <f:facet name="header" >
                                Vasarnamiai
                        </f:facet>
                        <h:panelGrid columns="2" style="width:100%" columnClasses="logo,detail">
                            <span class="glyphicon glyphicon-bed" style="width: 30%"/>
                            <p:outputPanel >
                                <h:panelGrid columns="2" >
                                    <h:outputText value="Id:"/>
                                    <h:outputText value="#{house.id}"/>
                                    <h:outputText value="House reg:"/>
                                    <h:outputText value="#{house.housereg}"/>
                                </h:panelGrid>
                            </p:outputPanel>
                        </h:panelGrid>
                        <hr/>
                    </p:dataScroller>
                </div>
            </div>
        </div>
        
        
        
        <!-- scripts -->
        <h:outputScript library="js" name="custom.js" />
        <!-- end of scripts -->
    </h:body>
</html>
